version: "3"
services:
  mysql:
    ports:
      - 3306:3306
  wordpress:
    build:
      context: ./wp-headless
      args:
        WORDPRESS_VERSION: 4.9.1
        PHP_VERSION: 7.2
        WORDPRESS_PLUGINS: |-
          custom-post-type-ui 1.5.6
          advanced-custom-fields 4.4.12
          acf-to-rest-api 3.1.0
          amazon-s3-and-cloudfront 1.2.1
          amazon-web-services 1.0.4
          wordpress-importer 0.6.3
          jwt-authentication-for-wp-rest-api 1.2.4
    volumes:
      - ./wordpress:/var/www/html
      - ./wp-headless/twentyseventeen-child:/var/www/html/wp-content/themes/twentyseventeen-child
      - ./wp-headless/apache.conf:/etc/apache2/conf-enabled/wordpress.conf
      - ./wp-headless/docker-wp-headless-entrypoint.sh:/usr/local/bin/docker-wp-headless-entrypoint.sh
